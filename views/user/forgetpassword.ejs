
<!DOCTYPE html>
<html>

<head>
    <title>Reset Password</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.min.css">
    <script>
        // Extract the error message from the query parameter
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get('error');
      
        // Check if an error message is present and show it using Swal
        if (error) {
          Swal.fire({
            icon: 'error',
            title: 'Error',
            text: decodeURIComponent(error), // Decode the URL-encoded error message
          });
        }
      </script>
      
    <div class="container">
        <h2 class="mt-4">Reset Password</h2>
        <p class="mt-3">Enter your registered phone number to receive an OTP to reset your password.</p>
        <form action="forgetpasswordotp" method="POST" onsubmit="return validateForm()">
            <div class="form-group">
                <label for="email">Enter email</label>
                <input type="email" class="form-control" id="email" name="email" >
                <div id="emailError" class="text-danger"></div> <!-- Error message for email -->
            </div>
            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" class="form-control" id="phone" name="phone" >
                <div id="phoneError" class="text-danger"></div> <!-- Error message for phone -->
            </div>
            <button type="submit" class="btn btn-primary">Send OTP</button>
        </form>

        <hr>
        
    </div>

    <script>
        function validateForm() {
            const emailInput = document.getElementById('email');
            const phoneInput = document.getElementById('phone');
            const emailError = document.getElementById('emailError');
            const phoneError = document.getElementById('phoneError');
            let valid = true;

            emailError.textContent = '';
            phoneError.textContent = '';

            if (!emailInput.value.match(/^\S+@\S+\.\S+$/)) {
                emailError.textContent = 'Invalid email format';
                valid = false;
            }
            else if(phoneInput.value.trim()=""){
                phoneError.textContent = 'please provide phone';
                valid = false;
            }

            else if (!phoneInput.value.match(/^\d{10}$/)) {
                phoneError.textContent = 'Invalid phone number format';
                valid = false;
            }

            return valid;
        }
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>
